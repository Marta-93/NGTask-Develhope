<div class="row row-cols-1 row-cols-md-2 g-4" *ngIf="projects.length > 0; else noProjects">
  <div class="col" *ngFor="let project of projects">
    <div class="card" [ngClass]=" {'border-info': project.done, 'border-warning': !project.done}">
      <h5 class="card-title">
        <span class="badge bg-secondary  rounded-pill">{{ project.code }}</span>
        {{project.name}}
      </h5>
      <p class="card-text">{{ project.description }}</p>
      <!-- <button [disabled]="project.done" class="btn btn-primary btn-sm" (click)="selectProject">Vai al Progetto<button>-->
      <button class="btn btn-primary btn-sm" (click)="selectProject(project)">Vai al Progetto</button>
      <small class="text-muted" [ngStyle]="{'font-style': project.done ? 'italic' : 'normal'}">
        <span>{{ project.start | date: 'dd/MM/yyyy' }}</span>
        <span *ngIf="project.end"> | {{ project.end | date: 'dd/MM/yyyy' }}</span>
      </small>
    </div>
  </div>
</div>

<hr>
<p *ngIf="selectedProject">Progetto selezionato: {{ selectedProject.name }}</p>
<ngprj-detail></ngprj-detail>

<hr>
<form #f="ngForm" (ngSubmit)="submitProjectForm(f)" class="row g-3">
  <div class="col-md-4">
    <label for="name" class="form-label">Nome</label>
    <input type="text" name="name" class="form-control" placeholder="Nome" required ngModel #nameField="ngModel">
    <p *ngIf="nameField.touched && nameField.invalid" class="text-danger"><small>Il campo è richiesto</small></p>
  </div>
  <div class="col-md-4">
    <label for="priority" class="form-label">Priority</label>
    <select class="form-select" name="priority" required ngModel #priorityField="ngModel">
      <option value="low">Low</option>
      <option value="medium">Medium</option>
      <option value="high">High</option>
    </select>
    <p *ngIf="priorityField.touched && priorityField.invalid" class="text-danger"><small>Il campo è richiesto</small></p>
  </div>
  <div class="col-md-4">
    <label for="validationDefaultUsername" class="form-label">Username</label>
    <input type="date" name="start" class="form-control" placeholder="Data Inizio" required ngModel #dateField="ngModel">
    <p *ngIf="dateField.touched && dateField.invalid" class="text-danger"><small>Il campo è richiesto</small></p>
  </div>
  <div class="col-md-12">
    <label for="description" class="form-label">Description</label>
    <textarea class="form-control" name="description" placeholder="Descrizione" required ngModel #descriptionField="ngModel"></textarea>
    <p *ngIf="descriptionField.touched && descriptionField.invalid" class="text-danger"><small>Il campo è richiesto</small></p>
  </div>
  <div class="col-12">
    <button [disabled]="f.invalid" type="submit" class="w-100 btn btn-primary btn-lg">Crea</button>
  </div>
</form>

<ng-template #noProjects>
  <p>Non e' presente nessun progetto</p>
</ng-template>
